<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Positron</title>
</head>

<body>
  <div x-data="app" x-init="loadUserConfig">

      <!-- Load/Save config -->
      <div>
        <h2>Load/Save</h2>
        <button @click="loadUserConfig">Load</button>
        <button @click="saveUserConfig">Save</button>
      </div>

      <br />

      <!-- Server settings -->
      <div x-effect="console.log(server)">
        <h2>Server</h2>
        <span>Host</span>
        <select x-model="server.protocol">
          <option value="http">http://</option>
          <option value="https">https://</option>
        </select>
        <input type="text" x-model="server.hostname" placeholder="hostname">
        <span>:</span>
        <input type="text" x-model="server.port" placeholder="port">
        <br />
        <span>Token</span>
        <input type="text" x-model="server.token">
      </div>

      <br />

      <!-- Shortcuts -->
      <div>
        <h2>Shortcuts</h2>
        <template x-for="shortcut in shortcuts">
          <div>
            <span>Enabled</span>
            <!-- <input type="checkbox" @click="toggleShortcut(shortcut)" x-model="shortcut.enabled"> -->
            <input type="checkbox" @click="toggleShortcut(shortcut)">
            <button @click="triggerShortcut(shortcut)">Trigger</button>
            <br />
            <span>Name</span>
            <input type="text" x-model="shortcut.name" x-bind:disabled="shortcut.enabled" placeholder="Do something">
            <button @click="deleteShortcut(shortcut)">Delete</button>
            <br />
            <span>Accelerator</span>
            <input type="text" x-model="shortcut.acc" x-bind:disabled="shortcut.enabled" placeholder="Control+A">
            <br />
            <span>Method</span>
            <select x-model="shortcut.params.method" x-bind:disabled="shortcut.enabled">
              <option value="GET">GET</option>
              <option value="POST">POST</option>
            </select>
            <br />
            <span>Endpoint</span>
            <span>/api</span>
            <input type="text" x-model="shortcut.params.endpoint" x-bind:disabled="shortcut.enabled"
              placeholder="/path/to/endpoint">
            <br />
            <span>Request body</span>
            <input type="text" x-model="shortcut.params.body" x-bind:disabled="shortcut.enabled"
              placeholder="{&quot;foo&quot;:&quot;bar&quot;,&quot;baz&quot;:&quot;qux&quot;}">
            <br />
            <br />
          </div>
        </template>
        <button @click="createShortcut">New shortcut</button>
      </div>

    </div>

  </div>
</body>

</html>